<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('partials/head.ejs'); %>
</head>

<body class="container">

  <header>
    <%- include('partials/header'); %>
  </header><br><br>


  <main class="container-fluid">

    <section class="admin_table">

      <div class="admin_table__header" style="display: none;">ID</div>
      <div class="admin_table__header">Nombre</div>
      <div class="admin_table__header">Email</div>
      <div class="admin_table__header">Manzana</div>
      <div class="admin_table__header">Lote</div>
      <div class="admin_table__header">Isla</div>
      <div class="admin_table__header">Teléfono</div>
      <div class="admin_table__header">Rol</div>
      <div class="admin_table__header"></div>
      <div class="admin_table__header"></div>
      
      

      <% data.forEach(usuario=> { %>
          <div class="admin_table__item" style="display: none;">
              <%= usuario.id %>
          </div>
          <div class="admin_table__item">
              <%= usuario.nombre %>
          </div>
          <div class="admin_table__item">
              <%= usuario.email %>
          </div>
          <div class="admin_table__item">
              <%= usuario.manzana %>
          </div>
          <div class="admin_table__item">
            <%= usuario.lote %>
        </div>
        <div class="admin_table__item">
          <%= usuario.isla %>
      </div>
      <div class="admin_table__item">
        <%= usuario.telefono %>
    </div>
    <div class="admin_table__item">
      <%= usuario.rol %>
  </div>
          <div class="admin_table__item">
            <a id="admin_table__trash-link" class="admin_table__icon-trash-button" onclick="return confirm('Estás seguro?');" href="/src/views/partials/adminUpdate.ejs">Editar</a>
          </div>
          <div class="admin_table__item">
            <a id="admin_table__trash-link" class="admin_table__icon-trash-button" onclick="return confirm('Estás seguro?');" href="/usuarios/borrar/<%= usuario.id %>">Borrar</a>
          </div>
          <% }) %>
  </section>

    <section id="admin-panel">
    <h1>Panel de Administración</h1>

    
    <div>
     
      <a id="reserva" type="button" class="btn btn-primary"  href="/register">Agregar usuario</a>
      <a id="reserva" type="button" class="btn btn-primary"  href="/usuarios">Usuarios</a>
      
      <tbody id="tabla">
      <table class="table table-dark table-striped">
        
        <thead>
          <tr>
            <th style="display: none">ID</th>
            <th>Nombre</th>
            <th>Email</th>
            <th>Manzana</th>
            <th>Lote</th>
            <th>Isla</th>
            <th>Teléfono</th>
            <th>Rol</th>
            <th>Acción</th>
            
          </tr>  
       <!--</thead>
    
          <% if (typeof data !== 'undefined') { %>
            <% data.forEach(usuario => { %>
              tr>
              <td style="display: none"><%= usuario.id %></td>
              <td><%= usuario.nombre %></td>
              <td><%= usuario.email %></td>
              <td><%= usuario.manzana %></td>
              <td><%= usuario.lote %></td>
              <td><%= usuario.isla %></td>
              <td><%= usuario.telefono %></td>
              <td><%= usuario.rol %></td>
              <td>
                <a id="admin_table__trash-link" class="admin_table__icon-trash-button" onclick="return confirm('Estás seguro?');" href="/src/views/partials/adminUpdate.ejs">Editar</a>
                <a id="admin_table__trash-link" class="admin_table__icon-trash-button" onclick="return confirm('Estás seguro?');" href="/usuarios/borrar/<%= usuario.id %>">Borrar</a>
               </td>
            
                </tr>
              <% }) %>
              <% } %>
            </tbody>
            
          </table>
        </div>
    </div>

      <div>
        <a id="reserva" type="button" class="btn btn-primary"  href="/reserva">Agregar reservas</a>
        <a id="reserva" type="button" class="btn btn-primary"  href="/reservas">Reservas</a>
        
      </div>
      <div>
        <table class="table table-dark table-striped">

          <thead>
            <tr>
              <th>ID</th>
              <th>Usuario</th>
              <th>Fecha</th>
              <th>Hora Inicio</th>
              <th>Estado</th>
              <th>Acción</th>
            </tr>
          </thead>
                  
          
            <tbody id="tabla">
              <% if (typeof reservas !== 'undefined') { %>
                <% reservas.forEach(reservations=> { %>
                  tr>
                  <td><%= reservations.id %></td>
                  <td><%= reservations.id_usuario %></td>
                  <td><%= reservations.fecha %></td>
                  <td><%= reservations.hora_inicio %></td>
                  <td><%= reservations.estado %></td>
                  <td>
                    <a id="admin_table__trash-link" class="admin_table__icon-trash-button" onclick="return confirm('Estás seguro?');" href="/src/views/partials/adminUpdate.ejs">Editar</a>
                    <a id="admin_table__trash-link" class="admin_table__icon-trash-button" onclick="return confirm('Estás seguro?');" href="/reservas/borrar/<%= usuario.id %>">Borrar</a>
                   </td>
                    </tr>
                  <% }) %>
                  <% } %>
                </tbody>-->
            
          </table>
    </div>
    
    </div>
  </section>

     
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
      </script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="<KEY>"
        crossorigin="anonymous"></script>
       <script src="../js/admin.js"></script>
       
  </main>


  <footer>

    <%- include('partials/footer'); %>
  </footer>

</body>

</html>